---
status: published
published: true
title: Upgrade unter Linux
author: Benjamin Moeller
date: 2010-05-02 13:23:13 UTC
categories: [linux]
tags: [linux, qnd]
comments: []
---
<p>Alle Jahre wieder kommt ein neues Release und alle Versionsjunkies wollen sofort das neuste tollste blingbling Feature haben. Also fragen sie wie man 'am besten updated'.</p>
<p>Was bitte ist am besten? Man will nicht viel Arbeit reinstecken, man will keine Daten verlieren und es soll sein wie vorher aber besser.</p>
<p>Mein Tipp: neue Platte kaufen ('jetzt wir in die Hände gespuckt, wir steigern das ...') und das (partitions)Konzept ueberdenken. Endlich mal trennen, was nicht zusammen gehört.</p>
<p>Daten sichern sollte man immer! Nicht nur zum Upgrade.</p>
<p>Partitionierung:</p>
<blockquote><p>lupus@zoe:~$ df -h<br />
Dateisystem            Größe Benut  Verf Ben% Eingehängt auf<br />
<strong>/dev/sda1              46G  6,4G   39G  15% /</strong><br />
udev                  1,6G  524K  1,6G   1% /dev<br />
none                  1,6G  468K  1,6G   1% /dev/shm<br />
none                  1,6G  396K  1,6G   1% /var/run<br />
none                  1,6G  8,0K  1,6G   1% /var/lock<br />
none                  1,6G     0  1,6G   0% /lib/init/rw<br />
/dev/md2               92G   74G   14G  85% /media/misc<br />
/dev/sda6              46G   40G  3,6G  92% /media/music<br />
/dev/sda7              68G   41G   25G  63% /media/mirror<br />
/dev/md0               46G   43G  1,1G  98% /home<br />
<strong>/dev/sde1             932G  462G  471G  50% /media/onetb</strong><br />
<strong>/dev/sda3              46G  9,4G   35G  22% /media/debian</strong><br />
lupus@zoe:~$ </p></blockquote>
<p>Da ich ein RAID System habe ist /dev/sdb[n] und /dev/sdc[n] zusammengefasst zu /dev/md[n]. Hier liegt /media und /home. Beide sind vom update nicht betroffen. sicher aendert das ein oder andere Programm die Einstellungen unter ~/.blah, aber das vernachlässige ich. Im Notfall werden diese beim Schritt zurueck gelöscht und erneut angelegt.<br />
Wichtig ist, das /home getrennt liegt, also beim Update oder einer neuen Installation nur eingebunden werden muss.</p>
<p>Von Karmic auf Lucid habe ich mich dazu entschlossen mein kaputtes Debian entgültig zu löschen, das heisst ich installiere ein frisches Lucid direkt auf /dev/sda3, und fasse /dev/sda1 gar nicht an. Damit habe ich 40GB ungenutzten Speicher auf der Platte, aber kann jederzeit ohne großen Zeitverzug zurück. Früher oder später kann ich dann auf /dev/sda1 wieder mit anderen Systemen spielen.<br />
Um ein neues System schnell lauffähig zu bekommen reicht es mit einem 2. Benutzer oder Livesystem die Dateien von /home auf ein neu eingerichtetes /home2 zu legen. Zum Testen lagere ich es nicht mal aus.</p>
<p>Bei meinem Aufbau könnte man zusätzlich /boot auf sda legen, im grub Systemunabhängig konfigurieren zu können. Auch die Auslagerung von /var hatte ich mal realisiert. Das macht aber nur für Forensik einen nennenswerten Sinn. Oder wenn das RAID einen Geschwindigkeitsvorteil bringen würde.<br />
Warum ich /war/www auf /home/wwwuser legen würde erlaeutere ich in einem anderen Artikel.</p>
<p>Fazit:<br />
1. lagert /home aus!<br />
2. kauft Euch ne 2. platte!<br />
3. gut ist, was selbst gut durchdacht ist, nicht was Andere tun!</p>
