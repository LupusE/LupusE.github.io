<!DOCTYPE html>
<html lang="en">
<!-- Beautiful Jekyll 5.0.0 | Copyright Dean Attali 2020 -->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  

  

  <title>Kodi und das Fritz!NAS</title>

  
  <meta name="author" content="{"name"=>"Benjamin Moeller"}">
  

  <meta name="description" content="Fritz!NAS - Für das kleine Portemonaie Hier in Deutschland besitzt wohl ein grossteil der Internetbenutzer eine Fritz!Box. Diese plastik Router besitzen zwar keine enterprise Funktionen, aber sind für den Heimgebrauch einfach ausreichend. Zusätzlich zum Routing per LAN und WLAN bieten die Boxen einen oder zwei USB Ports um einen externen...">

  

  

  <link rel="alternate" type="application/rss+xml" title="LupusE Weblife" href="https://blog.lupuse.org/feed.xml">

  

  

  


  
    
      
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">


    
      
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800">


    
  

  
    
      <link rel="stylesheet" href="/assets/css/bootstrap-social.css">
    
      <link rel="stylesheet" href="/assets/css/beautifuljekyll.css">
    
  

  

  
  
  

  

  
  <meta property="og:site_name" content="LupusE Weblife">
  <meta property="og:title" content="Kodi und das Fritz!NAS">
  <meta property="og:description" content="Fritz!NAS - Für das kleine Portemonaie Hier in Deutschland besitzt wohl ein grossteil der Internetbenutzer eine Fritz!Box. Diese plastik Router besitzen zwar keine enterprise Funktionen, aber sind für den Heimgebrauch einfach ausreichend. Zusätzlich zum Routing per LAN und WLAN bieten die Boxen einen oder zwei USB Ports um einen externen...">

  

  
  <meta property="og:type" content="article">
  <meta property="og:article:author" content="{"name"=>"Benjamin Moeller"}">
  <meta property="og:article:published_time" content="2019-04-20T09:16:21+02:00">
  <meta property="og:url" content="https://blog.lupuse.org/2019-04-20-kodi-und-das-fritznas/">
  <link rel="canonical" href="https://blog.lupuse.org/2019-04-20-kodi-und-das-fritznas/">
  

  
  <meta name="twitter:card" content="summary">
  
  <meta name="twitter:site" content="@LupusE42">
  <meta name="twitter:creator" content="@LupusE42">

  <meta property="twitter:title" content="Kodi und das Fritz!NAS">
  <meta property="twitter:description" content="Fritz!NAS - Für das kleine Portemonaie Hier in Deutschland besitzt wohl ein grossteil der Internetbenutzer eine Fritz!Box. Diese plastik Router besitzen zwar keine enterprise Funktionen, aber sind für den Heimgebrauch einfach ausreichend. Zusätzlich zum Routing per LAN und WLAN bieten die Boxen einen oder zwei USB Ports um einen externen...">

  

  


  

  

</head>


<body>

  


  <nav class="navbar navbar-expand-xl navbar-light fixed-top navbar-custom top-nav-regular"><a class="navbar-brand" href="https://blog.lupuse.org/">LupusE Weblife</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="main-navbar">
    <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="/aboutme">Über mich</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
                  <a class="dropdown-item" href="http://www.markdowntutorial.com/">Learn markdown</a>
                  <a class="dropdown-item" href="https://pages.github.com/">GitHub Pages</a>
            </div>
          </li>
        
          <li class="nav-item">
            <a class="nav-link" href="http://lupuse.org">Webseite</a>
          </li></ul>
  </div>

  

  

</nav>


  <!-- TODO this file has become a mess, refactor it -->







<header class="header-section ">

<div class="intro-header no-img">
  <div class="container-md">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
        <div class="post-heading">
          <h1>Kodi und das Fritz!NAS</h1>
          

          
            <span class="post-meta">Posted on April 20, 2019</span>
            
            
          
        </div>
      </div>
    </div>
  </div>
</div>
</header>





<div class=" container-md ">
  <div class="row">
    <div class=" col-xl-8 offset-xl-2 col-lg-10 offset-lg-1 ">

      

      

      <article role="main" class="blog-post">
        <h1 id="fritznas---für-das-kleine-portemonaie">Fritz!NAS - Für das kleine Portemonaie</h1>
<p>Hier in Deutschland besitzt wohl ein grossteil der Internetbenutzer eine Fritz!Box. Diese plastik Router besitzen zwar keine enterprise Funktionen, aber sind für den Heimgebrauch einfach ausreichend.<br />
Zusätzlich zum Routing per LAN und WLAN bieten die Boxen einen oder zwei USB Ports um einen externen Datenträger anzubinden. In der letzten Labor Firmware hat AVM sogar mit SMBv3 experiemntiert, aber ist dann in der finalien Version (7.10) doch wieder auf v1 geblieben. Schade.<br />
Das nennt AVM Fritz!NAS, hat aber durch die Protokollauswahl (FTP, HTTP, SMB) relativ wenig mit einer ernstzunehmendne Alternative gemein. Selbst Windows 10 muss man erst dazu überreden das veraltete und unsichere SMBv1 zu sprechen, um per ‘Dateifreigabe’ auf sen Fritz!NAS zu kommen.</p>

<h2 id="fritzbox-benutzer-einrichten">Fritz!Box Benutzer einrichten</h2>

<h1 id="kodi---multimediacenter">Kodi - Multimediacenter</h1>
<p><a href="https://www.kvibes.de/mediaelch/">Kodi</a> läuft bei mir mit einem <a href="https://libreelec.tv">LibreELEC</a> auf einem Raspberry Pi. LibreELEC ist eine ‘Just enough OS for Kodi’ Distribution, welche die Leistung des Systems für die eigentliche Anwendung (Kodi) bereit hält. Kodi habe ich schon genutzt als der Name noch XBMC (XBox Media Center) war.<br />
Kodi spricht fast alles was es an Schnittstellen gibt um auf Dateien zuzugreifen. SMB, NFS, FTP, DNLA, … Das kleinste gemeinsame Vielfache ist hier SMB.</p>

<h2 id="mediaelch---kodi-datenbank-pflegen">MediaElch - Kodi Datenbank pflegen</h2>
<p>Kodi bringt Scrapper mit, kleine Dienste, welche einen Titel nehmen, einen passenden Datensatz innerhalb einer Onlinebibliothek, zum Beispiel IMDB, suchen und die Metadaten ziehen. Die Daten werden in den Filmordner als .nfo ud Bilddateien gespeichert. Als Standard nutzt Kodi eine SQLite Datenbank, es besteht aber id eMöglichkeit mehrere Kodi Installation per MySQL (MariaDB/Postgress) Datenbank zentral zu verwalten.<br />
Der Scrapper funktionierte anfangs sehr gut, bei einer größeren Sammlung und serien gab es baer immer wieder schwierigkeiten, so dass ich das Pflegen der Metadaten heute bequemer manuell am PC mache. Dazu hilft mir MediaElch.<br />
Das Programm gibt es als Ubuntu reposetory, was nicht wirklich aktiv gepflegt wird, aber auf allen getesteten Ubuntu Versionen funktioniert. Mittlerweile nutze ich Debian und daher kompiliere ich es selbst.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>apt <span class="nb">install </span>build-essential git libmediainfo-dev libcurl4-openssl-dev
<span class="nv">$ </span><span class="nb">sudo </span>apt <span class="nb">install </span>qt5-default qtmultimedia5-dev qtscript5-dev qtdeclarative5-dev qtdeclarative5-controls-plugin qtdeclarative5-models-plugin
</code></pre></div></div>
<p>Quelle: https://www.kodinerds.net/index.php/Thread/49966-MediaElch-Kompilieren/</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">mkdir</span> <span class="nt">-p</span> ~/git<span class="p">;</span> <span class="nb">cd</span> ~/git
<span class="nv">$ </span>git clone https://github.com/Komet/MediaElch.git <span class="o">&amp;&amp;</span> <span class="nb">cd </span>MediaElch
<span class="nv">$ </span><span class="nb">mkdir </span>build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> <span class="nv">$_</span>
<span class="nv">$ </span>qmake ..
<span class="nv">$ </span>make <span class="nt">-j4</span>
</code></pre></div></div>
<p>… Abwarten.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>./MediaElch
</code></pre></div></div>

<h3 id="arbeitsweise">Arbeitsweise</h3>
<p>Im MediaElch werden die Verzeichnisse konfiguriert, in denen die Medien liegen. Mit ‘Aktualisieren’ aus dme Menü oben werden die Verzeichnisse neu eingelesen und in der Liste links stehen ganz oben die Filme, welche noch keine Metadaten haben. Mit einem rechtsklick auf diesen Namen und aus dem Kontextmenü ‘Informationen holen’, wird ein dialog angezeigt, in dme Vorschläge gemacht werden. Der Film sollte daher im Verzeichnisnamen ‘Titel__Erscheinungsjahr’ gespeichert sein. Damit erhalte ich bisher das beste Ergebnis.<br />
Nach einem Doppelklick auf den richtigen Eintrag werden Metadaten und Bilder heruntergeladen. Im anshcluss wird oben im Menü auf ‘Speichern’ geklickt und die Daten werden in das Filmverzeichnis geschrieben.</p>

<h1 id="curlftpfs">curlftpfs</h1>
<p>Obwohl ich FTP soweit es geht meide, finde ich SMB unter Linux noch doofer und nutze das Paket <code class="language-plaintext highlighter-rouge">curlftpfs</code> um das Fritz!NAS Verzeichnis lokal verfügbar zu machen.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo mkdir</span> /mnt/kodi
<span class="nv">$ </span><span class="nb">sudo chown </span>user:user /mnt/kodi
<span class="nv">$ </span><span class="nb">sudo </span>vim /etc/fstab
<span class="o">[</span>...]
curlftpfs#ftp://fritz.nas /mnt/kodi fuse noauto,allow_other,codepage<span class="o">=</span>latin1,iocharset<span class="o">=</span>utf8,umask<span class="o">=</span>0022,user<span class="o">=</span>user:password 0 0
</code></pre></div></div>

<ul>
  <li>noauto - Nicht beim Booten laden</li>
  <li>allow_other - Andere Benutzer erlauben</li>
  <li>codepage=<strong>latin1</strong> - Damit das Fritz!NAS auch umlaute speichert</li>
  <li>iocharset=<strong>utf8</strong> - Lokal sollte man nichts anderes mehr nutzen</li>
  <li>umask=<strong>0022</strong> - Standardberechtigung für angelegte Dateien</li>
  <li>user=<strong>user:password</strong> - user und password natürlich anpassen</li>
</ul>

<p>Manchmal funktioniert durch das Routing der Hostname nicht, dann hilft es fritz.box als Hostnamen oder die IP anzugeben.</p>


      </article>

      
        <div class="blog-tags">
          <span>Tags:</span>
          
            <a href="/tags#qnd">qnd</a>
          
        </div>
      

      

      
        <!-- Check if any share-links are active -->




<section id = "social-share-section">
  <span class="sr-only">Share: </span>

  
    <a href="https://twitter.com/intent/tweet?text=Kodi+und+das+Fritz%21NAS&url=https%3A%2F%2Fblog.lupuse.org%2F2019-04-20-kodi-und-das-fritznas%2F"
      class="btn btn-social-icon btn-twitter" title="Share on Twitter">
      <span class="fab fa-fw fa-twitter" aria-hidden="true"></span>
      <span class="sr-only">Twitter</span>
    </a>
  

  
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fblog.lupuse.org%2F2019-04-20-kodi-und-das-fritznas%2F"
      class="btn btn-social-icon btn-facebook" title="Share on Facebook">
      <span class="fab fa-fw fa-facebook" aria-hidden="true"></span>
      <span class="sr-only">Facebook</span>
    </a>
  

  
    <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fblog.lupuse.org%2F2019-04-20-kodi-und-das-fritznas%2F"
      class="btn btn-social-icon btn-linkedin" title="Share on LinkedIn">
      <span class="fab fa-fw fa-linkedin" aria-hidden="true"></span>
      <span class="sr-only">LinkedIn</span>
    </a>
  

  

</section>



      

      <ul class="pagination blog-pager">
        
        <li class="page-item previous">
          <a class="page-link" href="/2019-04-12-Stevens-X6-Lite-Tour/" data-toggle="tooltip" data-placement="top" title="Stevens X6 Lite Tour Gent">&larr; Previous Post</a>
        </li>
        
        
        <li class="page-item next">
          <a class="page-link" href="/2019-05-10-Garmin-Ein-Einblick/" data-toggle="tooltip" data-placement="top" title="Garmin - Ein Einblick">Next Post &rarr;</a>
        </li>
        
      </ul>
      
  
  
  

  




    </div>
  </div>
</div>


  <footer>
  <div class="container-md beautiful-jekyll-footer">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
      <ul class="list-inline text-center footer-links"><li class="list-inline-item">
    <a href="mailto:git@lupuse.org" title="Email me">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Email me</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://www.facebook.com/LupusE" title="Facebook">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-facebook fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Facebook</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://github.com/LupusE" title="GitHub">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">GitHub</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://twitter.com/LupusE42" title="Twitter">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Twitter</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://linkedin.com/in/benjamin-moeller-95455472" title="LinkedIn">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">LinkedIn</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://www.xing.com/profile/Benjamin_Moeller" title="Xing">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-xing fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Xing</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://stackoverflow.com/users/9601986/lupuse" title="StackOverflow">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">StackOverflow</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://www.instagram.com/LupusE42" title="Instagram">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Instagram</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://steamcommunity.com/id/LupusE" title="Steam">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-steam fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Steam</span>
   </a>
  </li></ul>

      
      <p class="copyright text-muted">
      
        {"name"=>"Benjamin Moeller"}
        &nbsp;&bull;&nbsp;
      
      2020

      
        &nbsp;&bull;&nbsp;
        <span class="author-site">
          <a href="https://blog.lupuse.org/">blog.lupuse.org</a>
        </span>
      

      
      </p>
      <p class="theme-by text-muted">
        Powered by
        <a href="https://beautifuljekyll.com">Beautiful Jekyll</a>
      </p>
      </div>
    </div>
  </div>
</footer>


  
  
    
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>


  
    
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>


  
    
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>


  



  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script src="/assets/js/beautifuljekyll.js"></script>
    
  









</body>
</html>
